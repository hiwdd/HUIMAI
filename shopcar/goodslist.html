<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="./css/bootstrap.css">
</head>
<body class="container">
  <h2>商品列表</h2>
  <table class="table table-bordered table-hover">
    <thead>
      <tr>
        <th>序号</th>
        <th>商品名称</th>
        <th>商品价格</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
        <td><a href="../xq.html"><img src="../images/img1.jpg" alt="" width="80px"></a>宽松纯白衬衣</td>
        <td>￥366</td>
        <td><button class="btn btn-primary" onclick="addCar(this)">加入购物车</button></td>
      </tr>
      <tr>
        <td>2</td>
        <td><a href="../xq.html"><img src="../images/img2.jpg" alt="" width="80px"></a>碎花性感上衣</td>
        <td>￥400</td>
        <td><button class="btn btn-primary"  onclick="addCar(this)">加入购物车</button></td>
      </tr>
      <tr>
        <td>3</td>
        <td><a href="../xq.html"><img src="../images/img3.jpg" alt="" width="80px"></a>性感风连衣裙</td>
        <td>￥269</td>
        <td><button class="btn btn-primary"  onclick="addCar(this)">加入购物车</button></td>
      </tr>
      <tr>
        <td>4</td>
        <td><a href="../xq.html"><img src="../images/img4.jpg" alt="" width="80px"></a>休闲装连衣裙</td>
        <td>￥299</td>
        <td><button class="btn btn-primary"  onclick="addCar(this)">加入购物车</button></td>
      </tr>
    </tbody>
  </table>
  <a href='./car.html'><button class="btn btn-danger">查看购物车</button></a>
</body>
<script src="./car.js"></script>
<script>
  var car = new Cart();
  //存储购物车商品的格式 ：  [{"商品名称"，‘id’,'price'},{},{}]
  //加入商品到购物车
  function addCar(ele){
    //ele button
    var tr = ele.parentElement.parentElement;
    var tds = tr.children; // [td,td,td,td]
    //构建出商品的对象格式
    var product = {
      "id":tds[0].innerText,
      "title":tds[1].innerText,
      "price":tds[2].innerText,
      "number":1
    };
    //加入购物车
    car.addCar(product);

  }
</script>
</html>